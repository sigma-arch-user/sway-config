# Read `man 5 sway` for a complete reference.

### Variables
# Super key. Use Mod1 for Alt.
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term alacritty
set $menu tofi-drun

include /etc/sway/config-vars.d/*

output * bg /home/ianis/pictures/wallpapers/default fill

output eDP-1 mode 2880x1800@120Hz scale 1.6
output DP-2 resolution 3440x1440@143.975Hz 

exec swayidle -w \
         timeout 300 'swaylock -f -c 000000' \
         timeout 360 'systemctl suspend' resume 'swaymsg "output * power on"' \
         before-sleep 'swaylock -f -c 000000'

input type:keyboard {
   repeat_rate 50
   repeat_delay 300
   xkb_layout ro
#   xkb_options grp:alt_shift_toggle
}

input type:pointer {
   accel_profile flat
   pointer_accel 0
}

input type:touchpad {
   natural_scroll true
   scroll_factor 0.5
   click_method clickfinger
   dwt false
}

### Key bindings

bindsym $mod+Return exec $term
bindsym $mod+q kill
bindsym $mod+d exec $menu
floating_modifier $mod normal
bindsym $mod+Shift+r reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Moving around:
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces:
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Layout stuff:
bindsym $mod+b splith
bindsym $mod+v splitv

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent

# Scratchpad:
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Resizing containers:
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Utilities:
bindsym --locked XF86AudioMute exec pamixer -t && notify-send "Volume: $(pamixer --get-volume-human)" -r 69 -t 800 -i audio-volume-muted-symbolic -u low
bindsym --locked XF86AudioLowerVolume exec pamixer -d 5 && notify-send "Volume: $(pamixer --get-volume-human)" -h int:value:$(pamixer --get-volume) -r 69 -t 800 -i audio-volume-high-symbolic -u low
bindsym --locked XF86AudioRaiseVolume exec pamixer -i 5 && notify-send "Volume: $(pamixer --get-volume-human)" -h int:value:$(pamixer --get-volume) -r 69 -t 800 -i audio-volume-high-symbolic -u low
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle

bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%- && notify-send "Brightness: $(($(brightnessctl g) * 100 / $(brightnessctl m)))%" -h int:value:$(($(brightnessctl g) * 100 / $(brightnessctl m))) -r 69 -t 800 -i brightness-medium-symbolic -u low
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+ && notify-send "Brightness: $(($(brightnessctl g) * 100 / $(brightnessctl m)))%" -h int:value:$(($(brightnessctl g) * 100 / $(brightnessctl m))) -r 69 -t 800 -i brightness-medium-symbolic -u low

bindsym $mod+p exec grim -g "$(slurp -d)" $(date +'/home/ianis/pictures/screenshots/%Y.%m.%d-%H:%M:%S.png')

bindsym $mod+m exec swaylock

bindsym Print exec grim

# Status Bar:
bar {
   position top

   status_command while /home/ianis/scripts/bar; do sleep 1; done
   
   workspace_min_width 35

   colors {
      statusline #ffffff
      background #323232
      inactive_workspace #323232ff #323232ff #5c5c5c
   }
}

#exec /usr/lib/polkit-1/polkit-agent-helper-1
#exec /usr/libexec/polkit-mate-authentication-agent-1
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

for_window [class=".*"] border normal
for_window [class=".*"] inhibit_idle fullscreen
for_window [app_id=".*"] inhibit_idle fullscreen
for_window [app_id="librepods"] floating enable
for_window [app_id="blueman"] floating enable
for_window [app_id="nwg-look"] floating enable
for_window [app_id="galculator"] floating enable
for_window [app_id="imv"] floating enable
for_window [app_id="mpv"] floating enable
for_window [window_type="dialog"] floating enable
for_window [window_role="dialog"] floating enable
for_window [title="^Picture-in-Picture$"] floating enable, sticky enable, border pixel 2
for_window [title="^Picture-in-picture$"] floating enable, sticky enable, border pixel 2
for_window [title="^Picture in picture$"] floating enable, sticky enable, border pixel 2

#default_border pixel 2
#default_floating_border pixel 2

gaps inner 0

font JetBrains Mono 13

include /etc/sway/config.d/*
